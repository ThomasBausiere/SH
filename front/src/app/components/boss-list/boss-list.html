<section>
  @if (bossList.length > 0) {
    @for (b of bossList; track b.id) {
      <article class="boss-card">
        <p class="boss-name">{{ b.name }}</p>
        <button
          type="button"
          class="btn btn--ghost"
          (click)="openModal(b)"
          aria-haspopup="dialog"
          aria-controls="boss-modal"
        >
          Show
        </button>
      </article>
    }

    @if (selectedBoss()) {
      <!-- Overlay plein écran ; clic sur l’overlay ferme -->
      <div class="modal-overlay" (click)="onOverlayClick($event)">
        <dialog
          id="boss-modal"
          open
          class="boss-modal"
          role="dialog"
          aria-modal="true"
          [attr.aria-labelledby]="'boss-title'"
        >
          <button
            type="button"
            class="modal-close"
            aria-label="Fermer"
            (click)="closeModal()"
          >
            ×
          </button>

          <div class="modal-body">
            <figure class="modal-media">
              <img
                [src]="'/assets/images' + selectedBoss()?.urlPosition + '.jpg'"
                [alt]="'Illustration de ' + selectedBoss()?.name"
                width="640"
                height="480"
                loading="lazy"
              />
            </figure>

            <section class="modal-details">
              <h2 id="boss-title" class="modal-title">{{ selectedBoss()?.name }}</h2>

              <dl class="meta">
                <div><dt>Campaign: </dt><dd>{{ selectedBoss()?.campaign || '—' }}</dd></div>
                <div><dt>Profession: </dt><dd>{{ selectedBoss()?.profession || '—' }}</dd></div>
                <div><dt>Attribute: </dt><dd>{{ selectedBoss()?.eliteSkill?.attribute }}</dd></div>
                <div><dt>Location: </dt><dd>{{ selectedBoss()?.position }}</dd></div>
                <div><dt>Elite Skill: </dt><dd>{{ selectedBoss()?.eliteSkill?.name || '—' }}</dd></div>
                <div><dt>Description: </dt><dd>{{ selectedBoss()?.eliteSkill?.description }}</dd></div>
                <div><dt>Condition: </dt><dd>{{ selectedBoss()?.condition }}</dd></div>

              </dl>



              <div class="modal-actions">
                <button type="button" class="btn" (click)="closeModal()">Close</button>
              </div>
            </section>
          </div>
        </dialog>
      </div>
    }
  } @else {
    <p>No Boss found.</p>
  }
</section>
